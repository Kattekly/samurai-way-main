"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[563],{563:function(t,n,e){e.r(n),e.d(n,{default:function(){return $}});var r=e(8683),s=e(5671),i=e(3144),o=e(136),u=e(5716),a=e(2791),l=e(885),c="ProfileInfo_descriptionBlock__tPzpV",d="ProfileInfo_mainPhoto__E-rUq",h="ProfileInfo_contact__X7t9C",f=e(4374),m=e(4353),p=e(184),x=function(t){var n=(0,a.useState)(!1),e=(0,l.Z)(n,2),r=e[0],s=e[1],i=(0,a.useState)(t.status),o=(0,l.Z)(i,2),u=o[0],c=o[1];(0,a.useEffect)((function(){c(t.status)}),[t.status]);return(0,p.jsxs)("div",{children:[!r&&(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Status"}),": ",(0,p.jsx)("span",{onDoubleClick:function(){s(!0)},children:t.status||"no status"})]}),r&&(0,p.jsx)("div",{children:(0,p.jsx)("input",{autoFocus:!0,onBlur:function(){s(!1),t.updateStatusThunk(u)},onChange:function(t){c(t.currentTarget.value)},value:u})})]})},j=e(1275),v=e(704),b={formSummaryError:"ProfileDataForm_formSummaryError__7iCAu"},g=(0,v.Z)({form:"edit-profile"})((function(t){var n=t.handleSubmit,e=t.profile,r=t.error;return(0,p.jsxs)("form",{onSubmit:n,children:[(0,p.jsx)("div",{children:(0,p.jsx)("button",{children:"save"})}),r&&(0,p.jsx)("div",{className:b.formSummaryError,children:r}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Full name"}),": ",(0,j.Gr)("Full name","fullName",[],j.II)]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Looking for a job"}),": ",(0,j.Gr)("","lookingForAJob",[],j.II,{type:"checkbox"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"My professional skills"}),":",(0,j.Gr)("My professional skills","lookingForAJobDescription",[],j.gx)]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"About me"}),":",(0,j.Gr)("About me","aboutMe",[],j.gx)]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Contacts"}),": ",Object.keys(e.contacts).map((function(t){return(0,p.jsx)("div",{className:b.contact,children:(0,p.jsxs)("b",{children:[t,": ",(0,j.Gr)(t,"contacts."+t,[],j.II)]})},t)}))]})]})})),k=function(t){var n=t.profile,e=t.isOwner,r=t.toEditMode;return(0,p.jsxs)(p.Fragment,{children:[e&&(0,p.jsx)("div",{children:(0,p.jsx)("button",{onClick:r,children:"edit"})}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Full name"}),": ",n.fullName]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Looking for a job"}),": ",n.lookingForAJob?"yes":"no"]}),n.lookingForAJob&&(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"My professionals skills"}),": ",n.lookingForAJobDescription]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"About me"}),": ",n.aboutMe]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Contacts"}),": ",Object.keys(n.contacts).map((function(t){return(0,p.jsx)(P,{contactTitle:t,contactValue:n.contacts[t]},t)}))]})]})},P=function(t){var n=t.contactTitle,e=t.contactValue;return(0,p.jsxs)("div",{className:h,children:[(0,p.jsx)("b",{children:n}),": ",e]})},y=function(t){var n=t.profile,e=t.status,r=t.updateStatusThunk,s=t.isOwner,i=t.savePhoto,o=t.saveProfile,u=(0,a.useState)(!1),h=(0,l.Z)(u,2),j=h[0],v=h[1];if(!n)return(0,p.jsx)(f.Z,{});return(0,p.jsx)("div",{children:(0,p.jsxs)("div",{className:c,children:[(0,p.jsx)("img",{src:n.photos.large||m,className:d}),s&&(0,p.jsx)("input",{type:"file",onChange:function(t){t.target.files&&i(t.target.files[0])}}),j?(0,p.jsx)(g,{onSubmit:function(t){o(t).then((function(){v(!1)}))},profile:n,initialValues:n}):(0,p.jsx)(k,{profile:n,isOwner:s,toEditMode:function(){v(!0)}}),(0,p.jsx)(x,{status:e,updateStatusThunk:r})]})})},Z=e(7734),_="MyPosts_postsBlock__P8WQf",S="MyPosts_posts__CCgrz",C="Post_item__nI8sT",T=function(t){return(0,p.jsxs)("div",{className:C,children:[t.message,(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{children:"Like"}),t.like]})]})},w=e(6139),I=e(5298),A=a.memo((function(t){var n=t.posts.map((function(t){return(0,p.jsx)(T,{message:t.message,like:t.like},t.id)})).reverse();return(0,p.jsxs)("div",{className:_,children:["My Posts",(0,p.jsx)(N,{onSubmit:function(n){t.addPost&&t.addPost(n.newPostText)}}),(0,p.jsx)("div",{className:S,children:n})]})})),F=(0,I.D)(10),N=(0,v.Z)({form:"ProfileAddNewPostForm"})((function(t){var n=t.handleSubmit;return(0,p.jsxs)("form",{onSubmit:n,children:[(0,p.jsx)("div",{children:(0,p.jsx)(w.Z,{component:j.gx,name:"newPostText",validate:[I.C,F],placeholder:"Post message"})}),(0,p.jsx)("div",{children:(0,p.jsx)("button",{children:"Add post"})})]})})),M=A,E=e(364),D=(0,E.$j)((function(t){return{newPostText:t.messagePage.newPostText,posts:t.messagePage.posts}}),(function(t){return{addPost:function(n){t((0,Z.Wl)(n))}}}))(M),O=function(t){return(0,p.jsxs)("div",{children:[(0,p.jsx)(y,{profile:t.profile,saveProfile:t.saveProfile,status:t.status,updateStatusThunk:t.updateStatusThunk,isOwner:t.isOwner,savePhoto:t.savePhoto}),(0,p.jsx)(D,{})]})},G=e(9271),J=e(3187),V=e(7781),B=function(t){(0,o.Z)(e,t);var n=(0,u.Z)(e);function e(){return(0,s.Z)(this,e),n.apply(this,arguments)}return(0,i.Z)(e,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userId;t||(t="26538"),this.props.getProfileThunk(t),this.props.getStatusThunk(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,n,e){this.props.match.params.userId!=t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,p.jsx)("div",{children:(0,p.jsx)(O,(0,r.Z)((0,r.Z)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatusThunk:this.props.updateStatusThunk,savePhoto:this.props.savePhoto}))})}}]),e}(a.Component),$=((0,J.Z)(B),(0,V.qC)((0,E.$j)((function(t){return{profile:t.messagePage.profile,status:t.messagePage.status,authorizedUserId:t.auth.id,isAuth:t.auth.isAuth}}),{getProfileThunk:Z.VB,getStatusThunk:Z.$b,updateStatusThunk:Z.dw,savePhoto:Z.Ju,saveProfile:Z.Ii}),G.EN,J.Z)(B))},1275:function(t,n,e){e.d(n,{gx:function(){return h},II:function(){return f},Gr:function(){return m}});var r=e(8683),s=e(5987),i=(e(2791),e(6139)),o=e(8811),u=e(184),a=["input","meta","children"],l=["input","meta","children"],c=["input","meta","children"],d=function(t){t.input;var n=t.meta,e=n.touched,r=n.error,i=t.children,l=((0,s.Z)(t,a),e&&r);return(0,u.jsxs)("div",{className:o.Z.formControl+" "+(l?o.Z.error:""),children:[(0,u.jsx)("div",{children:i}),l&&(0,u.jsx)("span",{children:r})]})},h=function(t){var n=t.input,e=(t.meta,t.children,(0,s.Z)(t,l));return(0,u.jsxs)(d,(0,r.Z)((0,r.Z)({},t),{},{children:[" ",(0,u.jsx)("textarea",(0,r.Z)((0,r.Z)({},n),e))]}))},f=function(t){var n=t.input,e=(t.meta,t.children,(0,s.Z)(t,c));return(0,u.jsx)(d,(0,r.Z)((0,r.Z)({},t),{},{children:(0,u.jsx)("input",(0,r.Z)((0,r.Z)({},n),e))}))};function m(t,n,e,s){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return(0,u.jsxs)("div",{children:[(0,u.jsx)(i.Z,(0,r.Z)({placeholder:t,name:n,validate:e,component:s},o))," ",a]})}},3187:function(t,n,e){var r=e(8683),s=e(5987),i=(e(2791),e(9271)),o=e(364),u=e(184),a=["isAuth"],l=function(t){return{isAuth:t.auth.isAuth}};n.Z=function(t){return(0,o.$j)(l)((function(n){var e=n.isAuth,o=(0,s.Z)(n,a);return e?(0,u.jsx)(t,(0,r.Z)({},o)):(0,u.jsx)(i.l_,{to:"/login"})}))}},5298:function(t,n,e){e.d(n,{C:function(){return r},D:function(){return s}});var r=function(t){if(!t)return"Field is required!"},s=function(t){return function(n){if(n&&n.length>t)return"Max length is ".concat(t," symbols")}}},8811:function(t,n){n.Z={formControl:"FormsControls_formControl__mwFpC",error:"FormsControls_error__TXWsV",formSummaryError:"FormsControls_formSummaryError__avrPo"}},4353:function(t,n,e){t.exports=e.p+"static/media/user.1c10e1cb7cf8191fbbc8.png"},885:function(t,n,e){e.d(n,{Z:function(){return s}});var r=e(181);function s(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,s,i=[],o=!0,u=!1;try{for(e=e.call(t);!(o=(r=e.next()).done)&&(i.push(r.value),!n||i.length!==n);o=!0);}catch(a){u=!0,s=a}finally{try{o||null==e.return||e.return()}finally{if(u)throw s}}return i}}(t,n)||(0,r.Z)(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=563.841ba0c6.chunk.js.map