"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[774],{2546:function(e,n,r){r.r(n),r.d(n,{default:function(){return _}});var t=r(5671),o=r(3144),s=r(136),i=r(5716),l=r(2791),u=r(364),a=r(3691),c=r(5987),f="Users_usersItems__7xEJD",g=r(885),p={selectedPage:"Pagination_selectedPage__hWxiu"},h=r(184),d=function(e){var n=e.currentPage,r=e.onPageChange,t=e.totalItemsCount,o=e.pageSize,s=e.pagesInBlock,i=[],u=Math.ceil(t/o),a=Math.ceil(u/s),c=(0,l.useState)(1),f=(0,g.Z)(c,2),d=f[0],P=f[1],w=10*(d-1)+1,v=10*(d-1)+10;if(1!==d)for(var j=w;j<=v;j++)i.push(j);else if(1===d)for(var x=w;x<=v;x++)i.push(x);else if(u>10)if(n>5)for(var m=n-4;m<=n+5&&(i.push(m),m!==u);m++);else for(var y=1;y<=10&&(i.push(y),y!==u);y++);else for(var C=1;C<=u;C++)i.push(C);return(0,h.jsxs)("div",{className:p.items,children:[d>1&&(0,h.jsx)("button",{onClick:function(){P((function(e){return e-1}))},children:"<< "}),i.map((function(e,t){return(0,h.jsxs)("span",{className:String(n===e&&p.selectedPage),onClick:function(){r(e)},children:[" ",e," "]},t)})),d<a&&(0,h.jsx)("button",{onClick:function(){P((function(e){return e+1}))},children:">>"})]})},P=r(4353),w=r(1523),v=["user","followingInProgress","unfollow","follow"],j=function(e){var n=e.user,r=e.followingInProgress,t=e.unfollow,o=e.follow;(0,c.Z)(e,v);return(0,h.jsxs)("div",{children:[(0,h.jsx)("span",{children:(0,h.jsx)("div",{children:(0,h.jsx)(w.OL,{to:"/profile/"+n.id,children:(0,h.jsx)("img",{src:null!==n.photos.small?n.photos.small:P})})})}),(0,h.jsx)("span",{children:(0,h.jsx)("div",{children:n.followed?(0,h.jsx)("button",{disabled:r.some((function(e){return e==n.id})),onClick:function(){t(n.id)},children:"Unfollow"}):(0,h.jsx)("button",{disabled:r.some((function(e){return e==n.id})),onClick:function(){o(n.id)},children:"Follow"})})}),(0,h.jsxs)("span",{children:[(0,h.jsxs)("span",{children:[(0,h.jsx)("div",{children:n.name}),(0,h.jsx)("div",{children:n.status})]}),(0,h.jsxs)("span",{children:[(0,h.jsx)("div",{children:"user.location.country"}),(0,h.jsx)("div",{children:"user.location.city"})]})]})]})},x=["currentPage","onPageChange","totalUsersCount","pageSize"],m=function(e){var n=e.currentPage,r=e.onPageChange,t=e.totalUsersCount,o=e.pageSize,s=(0,c.Z)(e,x);return(0,h.jsxs)("div",{className:f,children:[(0,h.jsx)(d,{currentPage:n,onPageChange:r,totalItemsCount:t,pageSize:o,pagesInBlock:10}),(0,h.jsx)("div",{children:s.users.map((function(e){return(0,h.jsx)(j,{user:e,followingInProgress:s.followingInProgress,unfollow:s.unfollow,follow:s.follow},e.id)}))})]})},y=r(4374),C=r(7781),b=function(e){return e.usersPage.users},S=function(e){return e.usersPage.pageSize},I=function(e){return e.usersPage.totalUsersCount},Z=function(e){return e.usersPage.currentPage},k=function(e){return e.usersPage.isFetching},U=function(e){return e.usersPage.followingInProgress},z=function(e){(0,s.Z)(r,e);var n=(0,i.Z)(r);function r(){var e;(0,t.Z)(this,r);for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return(e=n.call.apply(n,[this].concat(s))).onPageChange=function(n){e.props.setCurrentPage(n),e.props.getUsers(n,e.props.pageSize)},e}return(0,o.Z)(r,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return(0,h.jsxs)(h.Fragment,{children:[this.props.isFetching?(0,h.jsx)(y.Z,{}):null,(0,h.jsx)(m,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChange:this.onPageChange,users:this.props.usersPage,follow:this.props.follow,unfollow:this.props.unfollow,followingInProgress:this.props.followingInProgress})]})}}]),r}(l.Component),_=(0,C.qC)((0,u.$j)((function(e){return{usersPage:b(e),pageSize:S(e),totalUsersCount:I(e),currentPage:Z(e),isFetching:k(e),followingInProgress:U(e)}}),{follow:a.ZN,unfollow:a.fv,setCurrentPage:a.D4,toggleFollowingProgress:a.ZH,getUsers:a.D7}))(z)},4353:function(e,n,r){e.exports=r.p+"static/media/user.1c10e1cb7cf8191fbbc8.png"},5987:function(e,n,r){r.d(n,{Z:function(){return o}});var t=r(3366);function o(e,n){if(null==e)return{};var r,o,s=(0,t.Z)(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}},885:function(e,n,r){r.d(n,{Z:function(){return o}});var t=r(181);function o(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,o,s=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(t=r.next()).done)&&(s.push(t.value),!n||s.length!==n);i=!0);}catch(u){l=!0,o=u}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return s}}(e,n)||(0,t.Z)(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=774.bfe8fc43.chunk.js.map