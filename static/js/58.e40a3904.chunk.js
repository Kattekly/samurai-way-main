"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[58],{9058:function(e,t,n){n.r(t),n.d(t,{default:function(){return Te}});var i=n(8683),s=n(5671),o=n(3144),r=n(136),a=n(5716),l=n(2791),c=n(885),u="ProfileInfo_descriptionBlock__tPzpV",d="ProfileInfo_contact__X7t9C",f="ProfileInfo_avatarContainer__y7Loa",p="ProfileInfo_infoContainer__Zcvcu",h="ProfileInfo_profileInfo__9QCcu",m="ProfileInfo_name__IVMee",v="ProfileInfo_buttonClass__jTE9T",x="ProfileInfo_more__jdeOU",j=n(7749),_=n(3569),b=n(2297),g=n(184),y=function(e){var t=(0,l.useState)(!1),n=(0,c.Z)(t,2),i=n[0],s=n[1],o=(0,l.useState)(e.status),r=(0,c.Z)(o,2),a=r[0],u=r[1];(0,l.useEffect)((function(){u(e.status)}),[e.status]);return(0,g.jsxs)("div",{style:{fontSize:16,width:"100%",wordBreak:"break-word"},children:[!i&&(0,g.jsx)("div",{children:(0,g.jsx)("span",{onDoubleClick:function(){s(!0)},children:e.status||"no status"})}),i&&(0,g.jsx)("div",{children:(0,g.jsx)(b.Z,{autoFocus:!0,onBlur:function(){if(!(a.length<100))return alert("Status must be less than 100 characters");s(!1),e.updateStatusThunk(a)},onChange:function(e){u(e.currentTarget.value)},value:a})})]})},k=n(5851),P=n(8197),Z=n(1225),C=n(3991),N=n(5439);var E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,C.Z)(e,(0,Z.Z)({defaultTheme:N.Z},t))},S=n(1917),T=n(1207),I=n(8182),w=n(8317),A=n(5274),M=n(6752),z=n(812),B=n(3364),O=n(6043),D=n(9806),L={entering:{opacity:1},entered:{opacity:1}},F={enter:z.x9.enteringScreen,exit:z.x9.leavingScreen},R=l.forwardRef((function(e,t){var n=e.children,i=e.disableStrictModeCompat,s=void 0!==i&&i,o=e.in,r=e.onEnter,a=e.onEntered,c=e.onEntering,u=e.onExit,d=e.onExited,f=e.onExiting,p=e.style,h=e.TransitionComponent,m=void 0===h?M.ZP:h,v=e.timeout,x=void 0===v?F:v,j=(0,T.Z)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),_=(0,B.Z)(),b=_.unstable_strictMode&&!s,g=l.useRef(null),y=(0,D.Z)(n.ref,t),k=(0,D.Z)(b?g:void 0,y),P=function(e){return function(t,n){if(e){var i=b?[g.current,t]:[t,n],s=(0,A.Z)(i,2),o=s[0],r=s[1];void 0===r?e(o):e(o,r)}}},C=P(c),N=P((function(e,t){(0,O.n)(e);var n=(0,O.C)({style:p,timeout:x},{mode:"enter"});e.style.webkitTransition=_.transitions.create("opacity",n),e.style.transition=_.transitions.create("opacity",n),r&&r(e,t)})),E=P(a),S=P(f),I=P((function(e){var t=(0,O.C)({style:p,timeout:x},{mode:"exit"});e.style.webkitTransition=_.transitions.create("opacity",t),e.style.transition=_.transitions.create("opacity",t),u&&u(e)})),w=P(d);return l.createElement(m,(0,Z.Z)({appear:!0,in:o,nodeRef:b?g:void 0,onEnter:N,onEntered:E,onEntering:C,onExit:I,onExited:w,onExiting:S,timeout:x},j),(function(e,t){return l.cloneElement(n,(0,Z.Z)({style:(0,Z.Z)({opacity:0,visibility:"exited"!==e||o?void 0:"hidden"},L[e],p,n.props.style),ref:k},t))}))})),U=l.forwardRef((function(e,t){var n=e.children,i=e.classes,s=e.className,o=e.invisible,r=void 0!==o&&o,a=e.open,c=e.transitionDuration,u=e.TransitionComponent,d=void 0===u?R:u,f=(0,T.Z)(e,["children","classes","className","invisible","open","transitionDuration","TransitionComponent"]);return l.createElement(d,(0,Z.Z)({in:a,timeout:c},f),l.createElement("div",{className:(0,I.Z)(i.root,s,r&&i.invisible),"aria-hidden":!0,ref:t},n))})),V=(0,w.Z)({root:{zIndex:-1,position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},{name:"MuiBackdrop"})(U),W="ProfileInfoModal_button__-TCtc",J="ProfileInfoModal_icon__BEp5Q",$="ProfileInfoModal_title__dpWSG",G="ProfileInfoModal_log__3vHmd",Q=n(996),Y=E((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),borderRadius:15}}})),q=function(e){var t=e.profile,n=Y(),i=l.useState(!1),s=(0,c.Z)(i,2),o=s[0],r=s[1],a=function(){r(!0)};return(0,g.jsxs)("div",{children:[(0,g.jsx)(Q.Z,{color:"disabled",fontSize:"small",className:J,onClick:a}),(0,g.jsx)("button",{type:"button",className:W,onClick:a,children:"Learn more"}),(0,g.jsx)("span",{className:G,children:"".concat(document.body.scrollTop=document.documentElement.scrollTop=0)}),(0,g.jsx)(S.Z,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:n.modal,open:o,onClose:function(){r(!1)},closeAfterTransition:!0,BackdropComponent:V,BackdropProps:{timeout:500},children:(0,g.jsx)(R,{in:o,children:(0,g.jsxs)("div",{className:n.paper,children:[(0,g.jsx)("h2",{id:"transition-modal-title",className:$,children:"Detailed Information"}),(0,g.jsx)("p",{id:"transition-modal-description",children:(0,g.jsx)(X,{profile:t})})]})})})]})},X=function(e){var t=e.profile;return(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("b",{children:"Full name"}),": ",t.fullName]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("b",{children:"Looking for a job"}),": ",t.lookingForAJob?"yes":"no"]}),t.lookingForAJob&&(0,g.jsxs)("div",{children:[(0,g.jsx)("b",{children:"My professional skills"}),": ",t.lookingForAJobDescription]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("b",{children:"About me"}),": ",t.aboutMe]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("b",{children:"Contacts"}),": ",Object.keys(t.contacts).map((function(e){return(0,g.jsx)(K,{contactTitle:e,contactValue:t.contacts[e]},e)}))]})]})},H=function(e){e.profile;var t=e.isOwner,n=e.toEditMode;return(0,g.jsx)("div",{children:t&&(0,g.jsx)("div",{children:(0,g.jsx)("button",{className:v,onClick:n,children:"Edit profile"})})})},K=function(e){var t=e.contactTitle,n=e.contactValue;return(0,g.jsxs)("div",{className:d,children:[(0,g.jsx)("b",{children:t}),": ",n]})},ee=function(e){var t=e.profile,n=e.status,i=e.updateStatusThunk,s=e.isOwner,o=e.savePhoto,r=e.saveProfile,a=(0,l.useState)(!1),d=(0,c.Z)(a,2),v=d[0],b=d[1];if(!t)return(0,g.jsx)(j.Z,{});return(0,g.jsx)("div",{children:(0,g.jsxs)("div",{className:u,children:[(0,g.jsx)("div",{className:f,children:(0,g.jsx)(P.Y,{img:t.photos.large||_,savePhoto:o,size:200,isOwner:s})}),(0,g.jsxs)("div",{className:h,children:[(0,g.jsxs)("span",{children:[" ",(0,g.jsx)("b",{className:m,children:t.fullName}),(0,g.jsx)(y,{status:n,updateStatusThunk:i}),(0,g.jsx)("b",{children:"Looking for a job"}),": ",t.lookingForAJob?"yes":"no"]}),(0,g.jsx)("div",{className:x,children:(0,g.jsx)(q,{profile:t})})]}),(0,g.jsx)("div",{className:p,children:v?(0,g.jsx)(k.Z,{onSubmit:function(e){r(e).then((function(){b(!1)}))},profile:t,initialValues:t}):(0,g.jsx)(H,{profile:t,isOwner:s,toEditMode:function(){b(!0)}})})]})})},te="Profile_profileContainer__SEcg9",ne="Profile_headerImg__SEDYb",ie=n(2457),se={postsBlock:"MyPosts_postsBlock__P8WQf",posts:"MyPosts_posts__CCgrz"},oe="Post_post__9kPQr",re="Post_avatarAndName__W36Sz",ae="Post_message__l9bO7",le="Post_likes__cVuYR",ce=n(7025),ue=(0,n(8499).Z)(l.createElement("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}),"FavoriteBorder"),de=function(e){return(0,g.jsxs)("div",{className:oe,children:[(0,g.jsxs)("div",{className:re,children:[(0,g.jsx)(P.Y,{img:e.userAvatar,size:30}),(0,g.jsx)("h5",{style:{marginLeft:"5px"},children:e.userName})]}),(0,g.jsxs)("span",{className:ae,children:[" ",e.message]}),(0,g.jsxs)("div",{className:le,children:[(0,g.jsx)(ce.Z,{onClick:function(){var t=e.like+1;e.addLike(t,e.id)},size:"small",children:(0,g.jsx)(ue,{color:"primary"})}),(0,g.jsxs)("span",{children:[" ",e.like]})]})]})},fe=n(364),pe=n(6139),he=n(704),me=n(588),ve=n(5298),xe={},je=(0,ve.D)(100),_e=(0,he.Z)({form:"profileAddPostForm"})((function e(t){var n=t.handleSubmit;return(0,g.jsxs)("form",{onSubmit:n,className:xe.form,children:[(0,g.jsx)("div",{className:xe.data,children:(0,g.jsx)(pe.Z,{placeholder:"Enter you post",type:"text",name:"post",component:me.uL,validate:[je]})}),(0,g.jsx)(me.GX,{form:e})]})})),be="AddPost_postContainer__kkmON",ge="AddPost_title__ruJBD",ye=(0,fe.$j)(null,(function(e){return{addPost:function(t){return e((0,ie.Wl)(t))}}}))((function(e){var t=e.addPost;return(0,g.jsxs)("div",{className:be,children:[(0,g.jsx)("h3",{className:ge,children:"My posts"}),(0,g.jsx)(_e,{onSubmit:function(e){t(e.post)}})]})})),ke=l.memo((function(e){return(0,g.jsxs)("div",{className:se.myPostsContainer,children:[(0,g.jsx)(ye,{}),e.posts.map((function(t){return(0,g.jsx)(de,{id:t.id,message:t.message,like:t.like,userName:e.userName,userAvatar:e.userAvatar,addLike:e.addLike},t.id)}))]})})),Pe=(0,fe.$j)((function(e){return{posts:e.messagePage.posts,userName:e.messagePage.profile.fullName,userAvatar:e.messagePage.profile.photos.small}}),(function(e){return{addLike:function(t,n){return e((0,ie.dE)(t,n))}}}))(ke),Ze=function(e){return(0,g.jsxs)("div",{className:te,children:[(0,g.jsx)("div",{children:(0,g.jsx)("img",{className:ne,alt:"big content",src:"https://sun9-28.userapi.com/impf/IZV8ZqKT5iFUZ5RcKf17lskCX9W354PG0UFpWg/BogcuCe_SGc.jpg?size=1920x768&quality=95&crop=0,25,2560,1022&sign=0cc3f2d38c31cc82955bebdec766f149&type=cover_group"})}),(0,g.jsx)(ee,{profile:e.profile,saveProfile:e.saveProfile,status:e.status,updateStatusThunk:e.updateStatusThunk,isOwner:e.isOwner,savePhoto:e.savePhoto}),(0,g.jsx)(Pe,{addPost:function(){},newPostText:"",updateNewPostText:function(){},newMessageText:"",dispatch:function(){}},"")]})},Ce=n(9271),Ne=n(549),Ee=n(7781),Se=function(e){(0,r.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,s.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"refreshProfile",value:function(){var e=+this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),e?(this.props.getProfileThunk(e),this.props.getStatusThunk(e)):console.error("ID should exists in URI params or in state ('authorizedUserId')")}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,n){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,g.jsx)("div",{children:(0,g.jsx)(Ze,(0,i.Z)((0,i.Z)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatusThunk:this.props.updateStatusThunk,savePhoto:this.props.savePhoto}))})}}]),n}(l.Component),Te=((0,Ne.Z)(Se),(0,Ee.qC)((0,fe.$j)((function(e){return{profile:e.messagePage.profile,status:e.messagePage.status,authorizedUserId:e.auth.id,isAuth:e.auth.isAuth}}),{getProfileThunk:ie.VB,getStatusThunk:ie.$b,updateStatusThunk:ie.dw,savePhoto:ie.Ju,saveProfile:ie.Ii}),Ce.EN,Ne.Z)(Se))},549:function(e,t,n){var i=n(8683),s=n(5987),o=(n(2791),n(9271)),r=n(364),a=n(184),l=["isAuth"],c=function(e){return{isAuth:e.auth.isAuth}};t.Z=function(e){return(0,r.$j)(c)((function(t){var n=t.isAuth,r=(0,s.Z)(t,l);return n?(0,a.jsx)(e,(0,i.Z)({},r)):(0,a.jsx)(o.l_,{to:"/login"})}))}},996:function(e,t,n){var i=n(4752),s=n(8255);t.Z=void 0;var o=s(n(2791)),r=(0,i(n(4894)).default)(o.createElement("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline");t.Z=r},3569:function(e,t,n){e.exports=n.p+"static/media/user2.d3cfd48c7db7c0e9cd98.jpg"},885:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(181);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,s,o=[],r=!0,a=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);r=!0);}catch(l){a=!0,s=l}finally{try{r||null==n.return||n.return()}finally{if(a)throw s}}return o}}(e,t)||(0,i.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=58.e40a3904.chunk.js.map