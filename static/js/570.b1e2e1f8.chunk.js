"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[570],{9570:function(t,n,r){r.r(n),r.d(n,{default:function(){return D}});var e=r(8683),s=r(5671),u=r(3144),o=r(136),i=r(5716),a=r(2791),l="ProfileInfo_descriptionBlock__tPzpV",c=r(4374),d=r(885),f=r(184),h=function(t){var n=(0,a.useState)(!1),r=(0,d.Z)(n,2),e=r[0],s=r[1],u=(0,a.useState)(t.status),o=(0,d.Z)(u,2),i=o[0],l=o[1];(0,a.useEffect)((function(){l(t.status)}),[t.status]);return(0,f.jsxs)("div",{children:[!e&&(0,f.jsx)("div",{children:(0,f.jsx)("span",{onDoubleClick:function(){s(!0)},children:t.status||"no status"})}),e&&(0,f.jsx)("div",{children:(0,f.jsx)("input",{autoFocus:!0,onBlur:function(){s(!1),t.updateStatusThunk(i)},onChange:function(t){l(t.currentTarget.value)},value:i})})]})},p=function(t){var n=t.profile,r=t.status,e=t.updateStatusThunk;return n?(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{children:(0,f.jsx)("img",{src:"https://img2.fonwall.ru/o/gw/gory-zakat-solnce.jpg?route=thumb&h=350"})}),(0,f.jsxs)("div",{className:l,children:[(0,f.jsx)("img",{src:n.photos.large}),n.fullName,n.lookingForAJobDescription,(0,f.jsx)(h,{status:r,updateStatusThunk:e})]})]}):(0,f.jsx)(c.Z,{})},m=r(7734),x="MyPosts_postsBlock__P8WQf",j="MyPosts_posts__CCgrz",v="Post_item__nI8sT",g=function(t){return(0,f.jsxs)("div",{className:v,children:[(0,f.jsx)("img",{src:"https://cdn1.flamp.ru/de5d137bb9fffdca9df095726d4100e6.jpeg"}),t.message,(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{children:"Like"}),t.like]})]})},Z=r(6139),k=r(704),y=r(5298),P=r(1275),_=a.memo((function(t){console.log("yo");var n=t.posts.map((function(t){return(0,f.jsx)(g,{message:t.message,like:t.like},t.id)})).reverse();return(0,f.jsxs)("div",{className:x,children:["My Posts",(0,f.jsx)(S,{onSubmit:function(n){t.addPost&&t.addPost(n.newPostText)}}),(0,f.jsx)("div",{className:j,children:n})]})})),b=(0,y.D)(10),S=(0,k.Z)({form:"ProfileAddNewPostForm"})((function(t){var n=t.handleSubmit;return(0,f.jsxs)("form",{onSubmit:n,children:[(0,f.jsx)("div",{children:(0,f.jsx)(Z.Z,{component:P.g,name:"newPostText",validate:[y.C,b],placeholder:"Post message"})}),(0,f.jsx)("div",{children:(0,f.jsx)("button",{children:"Add post"})})]})})),T=_,C=r(364),w=(0,C.$j)((function(t){return{newPostText:t.messagePage.newPostText,posts:t.messagePage.posts}}),(function(t){return{addPost:function(n){t((0,m.Wl)(n))}}}))(T),A=function(t){return(0,f.jsxs)("div",{children:[(0,f.jsx)(p,{profile:t.profile,status:t.status,updateStatusThunk:t.updateStatusThunk}),(0,f.jsx)(w,{})]})},F=r(9271),I=r(3187),N=r(7781),z=function(t){(0,o.Z)(r,t);var n=(0,i.Z)(r);function r(){return(0,s.Z)(this,r),n.apply(this,arguments)}return(0,u.Z)(r,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;t||(t="26538",console.log(this.props.authorizedUserId)),this.props.getProfileThunk(t),this.props.getStatusThunk(t)}},{key:"render",value:function(){return(0,f.jsx)("div",{children:(0,f.jsx)(A,(0,e.Z)((0,e.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatusThunk:this.props.updateStatusThunk}))})}}]),r}(a.Component),D=((0,I.Z)(z),(0,N.qC)((0,C.$j)((function(t){return{profile:t.messagePage.profile,status:t.messagePage.status,authorizedUserId:t.auth.id,isAuth:t.auth.isAuth}}),{getProfileThunk:m.VB,getStatusThunk:m.$b,updateStatusThunk:m.dw}),F.EN,I.Z)(z))},1275:function(t,n,r){r.d(n,{g:function(){return d},I:function(){return f}});var e=r(8683),s=r(5987),u=(r(2791),r(8811)),o=r(184),i=["input","meta","children"],a=["input","meta","children"],l=["input","meta","children"],c=function(t){t.input;var n=t.meta,r=n.touched,e=n.error,a=t.children,l=((0,s.Z)(t,i),r&&e);return(0,o.jsxs)("div",{className:u.Z.formControl+" "+(l?u.Z.error:""),children:[(0,o.jsx)("div",{children:a}),l&&(0,o.jsx)("span",{children:e})]})},d=function(t){var n=t.input,r=(t.meta,t.children,(0,s.Z)(t,a));return(0,o.jsxs)(c,(0,e.Z)((0,e.Z)({},t),{},{children:[" ",(0,o.jsx)("textarea",(0,e.Z)((0,e.Z)({},n),r))]}))},f=function(t){var n=t.input,r=(t.meta,t.children,(0,s.Z)(t,l));return(0,o.jsx)(c,(0,e.Z)((0,e.Z)({},t),{},{children:(0,o.jsx)("input",(0,e.Z)((0,e.Z)({},n),r))}))}},3187:function(t,n,r){var e=r(8683),s=r(5987),u=(r(2791),r(9271)),o=r(364),i=r(184),a=["isAuth"],l=function(t){return{isAuth:t.auth.isAuth}};n.Z=function(t){return(0,o.$j)(l)((function(n){var r=n.isAuth,o=(0,s.Z)(n,a);return r?(0,i.jsx)(t,(0,e.Z)({},o)):(0,i.jsx)(u.l_,{to:"/login"})}))}},5298:function(t,n,r){r.d(n,{C:function(){return e},D:function(){return s}});var e=function(t){if(!t)return"Field is required!"},s=function(t){return function(n){if(n&&n.length>t)return"Max length is ".concat(t," symbols")}}},8811:function(t,n){n.Z={formControl:"FormsControls_formControl__mwFpC",error:"FormsControls_error__TXWsV",formSummaryError:"FormsControls_formSummaryError__avrPo"}},885:function(t,n,r){r.d(n,{Z:function(){return s}});var e=r(181);function s(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var r=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var e,s,u=[],o=!0,i=!1;try{for(r=r.call(t);!(o=(e=r.next()).done)&&(u.push(e.value),!n||u.length!==n);o=!0);}catch(a){i=!0,s=a}finally{try{o||null==r.return||r.return()}finally{if(i)throw s}}return u}}(t,n)||(0,e.Z)(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=570.b1e2e1f8.chunk.js.map